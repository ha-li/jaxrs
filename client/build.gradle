description = 'restful basics'

apply plugin: 'war'

repositories {
   mavenCentral ()
}

/* configurations.all {
   resolutionStrategy {
      failOnVersionConflict ()
      eachDependency { DependencyResolveDetails details ->
         if (details.requested.group == 'javax.ws.rs') {
            details.useVersion "2.0"
         } else if (details.requested.group == 'org.glassfish.hk2.external') {
            details.useVersion "2.2.0-b14"
         }

      }
   }
} */

dependencies {
   compile project (":model")

   compile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.20'
   //com.sun.jersey:jersey-servlet/compile 'org.glassfish.hk2.external:javax.inject:2.2.0-b14.jar'
   compile 'org.glassfish.jersey.containers:jersey-container-servlet:2.22.2'
   compile 'org.glassfish.jersey.core:jersey-server:2.22.2'
   //compile 'org.glassfish.jersey.containers:jersey-container-servlet:2.19'
   //compile 'org.glassfish.jersey.core:jersey-server:2.19'

   providedCompile 'javax.servlet:javax.servlet-api:3.1.0'
   providedCompile 'javax.ws.rs:javax.ws.rs-api:2.0-m15'
   //providedCompile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.0-m12'
   testCompile 'junit:junit:4.12'
}

jar {
   // an example of customizing the manifest file in gradle
   // the below gets appended to the default manifest file generated by packaging
   manifest {
      attributes (
         "Name": "com/gecko/jaxrs/",
         "Specification-Title": "JEE Basics",
         "Specification-Version": "0.1",
         "Specification-Vendor": "Gecko Inc",
         "Implementation-Title": "Gecko Inc's JEE Basics Example",
         "Implementation-Version": "0.1",
         "Implementation-Vendor": "Gecko Inc",
         "Created-By": "0.1 (Gecko Corporation)",
         "Sealed": true,
         "Build-date": new Date()
      )
   }
}
